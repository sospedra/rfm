name: Create external issues
on:
  issues:
    types: [opened]

jobs:
  create:
    if: "contains(github.event.issue.labels.*.name, 'search')"
    name: Create issue
    runs-on: ubuntu-latest
    steps:
      - name: vars
        id: vars
        uses: gr2m/get-json-paths-action@v1.x
        with:
          json: ${{ github.event.issue.body }}
          owner: 'owner'
          name: 'name'
      - name: create-issue
        uses: maxkomarychev/oction-create-issue@v0.7.1
        with:
          token: ${{ secrets.RELEASE_GITHUB_TOKEN }}
          title: 🚧 Is this repo maintained?
          owner: ${{ steps.vars.outputs.owner }}
          repo: ${{ steps.vars.outputs.name }}
          body: |
            👋 The user @${{ github.event.issue.user.login }} marked this repo in **need for maintainers**.
            ✅ If you're **looking for collaborators** no action is required
            👮🏻‍♂️ If this repo it's **well-supported please put a comment** here ${{ github.event.issue.html_url }}
